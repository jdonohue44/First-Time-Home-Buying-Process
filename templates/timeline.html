{% extends "base.html" %}

{% block content %}

<div class="container mt-5">
  <div class="row justify-content-center">

    <h2 class="mb-4 mt-4" style="font-family: 'Times New Roman', serif;">Complete the Home Buying Timeline</h2>

    <!-- Step Bank -->
    <div id="steps" class="d-flex flex-wrap mb-4"></div>

    <!-- Timeline -->
    <!-- <h5>Timeline:</h5> -->
    <div class="timeline-arrow-container mb-4">
      <div class="arrow-shaft" style="font-family: 'Times New Roman', serif;">
        <div class="timeline-slot" data-slot="1">Drop Step</div>
        <div class="timeline-slot" data-slot="2">Drop Step</div>
        <div class="timeline-slot" data-slot="3">Drop Step</div>
        <div class="timeline-slot" data-slot="4">Drop Step</div>
        <div class="timeline-slot" data-slot="5">Drop Step</div>
        <div class="timeline-slot" data-slot="6">Drop Step</div>
      </div>
      <div class="arrow-head"></div>
    </div>

    <!-- Buttons -->
    <div class="btn-row d-flex gap-3 mb-4">
      <div class="btn-row d-flex justify-content-center gap-3">
        <button id="resetBtn" class="btn btn-secondary btn-lg">🔄 Reset</button>
        <button 
          id="checkOrderBtn" 
          class="btn btn-success btn-lg" 
          disabled 
          style="font-family: 'Times New Roman', serif;" 
          data-bs-toggle="tooltip" 
          data-bs-placement="top" 
          title="Drag all steps into the timeline before checking">
          ✅ Check Order
      </button>
      <button 
        id="takeQuizBtn" 
        class="btn btn-outline-danger btn-lg" 
        style="font-family: 'Times New Roman', serif;" 
        disabled
        data-quiz-url="{{ url_for('quiz_page', qid=0) }}">
        📝 Take Quiz
      </button>
      </div>      
    </div>
    <div id="resultMessage" class="mt-3 fw-bold"></div>
  </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/timeline.js') }}"></script>
<script>
  $(function() {
    $("#takeQuizBtn").click(function() {
      window.location.href = "{{ url_for('quiz_page', qid=0) }}"; 
    });
  });
</script>
{% endblock %}