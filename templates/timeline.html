{% extends "base.html" %}

{% block content %}
<div class="title">Complete the Home Buying Timeline</div>

<div class="row">
  <div class="col-3"></div>
  <div class="col-6">
    <hr>
  </div>
  <div class="col-3"></div>
</div>

<div class="container mt-2">
  <div class="row justify-content-center">

    <!-- Step Bank -->
    <div id="steps" class="d-flex flex-wrap mb-2"></div>

    <!-- Timeline -->
    <!-- <h5>Timeline:</h5> -->
    <div class="timeline-arrow-container mb-2">
      <div class="arrow-shaft" style="font-family: 'Times New Roman', serif;">
        <div class="timeline-slot" data-slot="1">Drop Step</div>
        <div class="timeline-slot" data-slot="2">Drop Step</div>
        <div class="timeline-slot" data-slot="3">Drop Step</div>
        <div class="timeline-slot" data-slot="4">Drop Step</div>
        <div class="timeline-slot" data-slot="5">Drop Step</div>
        <div class="timeline-slot" data-slot="6">Drop Step</div>
      </div>
      <div class="arrow-head"></div>
    </div>

    <!-- Buttons -->
    <div class="container mb-3">
      <div class="row align-items-center">

        <!-- Left: Back Button -->
        <div class="col text-start">
          <a href="{{ url_for('learning_step', step_id=4) }}">
            <img src="{{ url_for('static', filename='img/left-arrow.png') }}" alt="Previous" style="height: 60px;">
          </a>
        </div>

        <!-- Center: Reset and Check Buttons -->
        <div class="col text-center">
          <button id="resetBtn" class="btn btn-secondary btn-lg">ðŸ”„ Reset</button>
          <button id="checkOrderBtn" class="btn btn-success btn-lg" disabled
            style="font-family: 'Times New Roman', serif;" data-bs-toggle="tooltip" data-bs-placement="top"
            title="Drag all steps into the timeline before checking">
            âœ… Check Order
          </button>
        </div>

        <!-- Right: Take the Test Button -->
        <div class="col text-end">
          <button id="takeQuizBtn" class="btn btn-outline-danger btn-lg" style="font-family: 'Times New Roman', serif;"
            disabled data-quiz-url="{{ url_for('quiz_page', qid=0) }}">
            Take the Test
          </button>
        </div>

      </div>
    </div>


    <div id="resultMessage" class="mt-3 fw-bold"></div>

  </div>
</div>

{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/timeline.js') }}"></script>
<script>
  $(function () {
    $("#takeQuizBtn").click(function () {
      window.location.href = "{{ url_for('quiz_page', qid=0) }}";
    });
  });
</script>
{% endblock %}