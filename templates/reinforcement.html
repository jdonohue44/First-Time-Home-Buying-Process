{% extends "base.html" %}

{% block title %}Quick Review {% endblock %}

{% block content %}
<div class="title">Quick Review</div>

<div class="content">
    <form method="POST" action="{{ url_for('reinforcement_answer', step_id=step_id) }}" id="quick-check-form">
        <div class="qcard" style="width: 600px;">
            <div class="qcard-title">{{ question.question }}</div>
            <div class="qcard-desc">
                <div class="options-boxes">
                    {% for option in question.options %}
                    <input type="radio" name="answer" value="{{ option }}" id="option-{{ loop.index }}" hidden/>
                    <label class="option-box" for="option-{{ loop.index }}">{{ option }}</label>
                    {% endfor %}
                </div>

                <!-- Optional hint -->
                <p class="text-muted" style="margin-top: 16px;"><em>üí° Hint: {{ question.hint }}</em></p>

                <!-- Optional warning message -->
                <div id="warning-message" style="color: #c62015; font-weight: bold; margin-top: 20px; display: none;">
                    ‚ö†Ô∏è Please select an option before continuing.
                </div>

                <div style="margin-top: 20px; display: flex; justify-content: space-between;">
                    <a href="{{ url_for(question.back_page) }}">
                        <img src="{{ url_for('static', filename='img/left-arrow.png') }}" alt="Next"
                             style="height: 60px;">
                    </a>

                    <button type="submit" style="border: none; background: none; padding: 0;">
                        <img src="{{ url_for('static', filename='img/right-arrow.png') }}" alt="Continue"
                             style="height: 60px;">
                    </button>
                </div>
            </div>
        </div>
    </form>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const form = document.getElementById("quick-check-form");
        const warning = document.getElementById("warning-message");

        form.addEventListener("submit", function (e) {
            const checked = document.querySelector("input[name='answer']:checked");

            if (!checked) {
                e.preventDefault();
                warning.style.display = "block";
            } else {
                warning.style.display = "none";
            }
        });
    });
</script>
{% endblock %}
